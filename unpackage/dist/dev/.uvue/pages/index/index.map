{"version":3,"file":"pages/index/index.uvue","names":[],"sources":["pages/index/index.uvue"],"sourcesContent":["<template>\r\n\t<list-view direction=\"vertical\" style=\"height: 1200rpx;\">\r\n\t\t<list-item class=\"mt-5 flex justify-center flex-column align-center\">\r\n\t\t\t<view v-if=\"todoList.length != 0\">\r\n\t\t\t\t<text class=\"text-dark font-lg p-2\">\r\n\t\t\t\t\t没吃过\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t</list-item>\r\n\t\t<u-todo-item v-for=\"item in todoList\" :key=\"item.id\" :checked=\"item.checked\" :id=\"item.id\" :text=\"item.text\"\r\n\t\t\t@destory=\"deleteItemfromList\" @checked=\"onChecked\"></u-todo-item>\r\n\t\t<list-item class=\"mt-5 flex justify-center flex-column align-center\">\r\n\t\t\t<view v-if=\"completedList.length != 0\">\r\n\t\t\t\t<text class=\"text-dark font-lg p-2\">\r\n\t\t\t\t\t吃过\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"list.length == 0\">\r\n\t\t\t\t<image src=\"@/static/empty.png\"></image>\r\n\t\t\t\t<text class=\"text-light-black text-center font-lg mt-2\">没有要吃的，点击小角图片添加</text>\r\n\t\t\t</view>\r\n\t\t</list-item>\r\n\t\t<u-todo-item v-for=\"item in completedList\" :key=\"item.id\" :checked=\"item.checked\" :id=\"item.id\"\r\n\t\t\t:text=\"item.text\" @destory=\"deleteItemfromList\" @checked=\"onChecked\"></u-todo-item>\r\n\t</list-view>\r\n\t<u-action :list=\"todoList\" @output=\"appedItemToList\"></u-action>\r\n</template>\r\n\r\n<script>\r\n\timport { nanoid } from \"@/common/id.uts\"\r\n\timport { CheckedPayload } from \"@/common/type.uts\"\r\n\timport { Item } from \"@/common/type.uts\"\r\n\tconst storageKey = \"uiappx-todo-list\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: [] as Array<Item>\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.initListFromStorage()\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttodoList() : Array<Item> {\r\n\t\t\t\treturn this.list.filter((item : Item) : boolean => !item.checked)\r\n\t\t\t},\r\n\t\t\tcompletedList() : Array<Item> {\r\n\t\t\t\treturn this.list.filter((item : Item) : boolean => item.checked)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tappedItemToList(text : string) {\r\n\t\t\t\tconst item : Item = {\r\n\t\t\t\t\tid: nanoid(),\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}\r\n\t\t\t\tthis.list = [item, ...this.list]\r\n\t\t\t\tthis.updateListToStroage()\r\n\t\t\t},\r\n\t\t\tdeleteItemfromList(id : string) {\r\n\t\t\t\tthis.list = this.list.filter((item : Item) : boolean => id != item.id)\r\n\t\t\t\tthis.updateListToStroage()\r\n\t\t\t},\r\n\t\t\tonChecked(payload : CheckedPayload) {\r\n\t\t\t\tconst item = this.list.find((item : Item) : boolean => item.id == payload.id)\r\n\t\t\t\titem!.checked = payload.checked\r\n\t\t\t\tthis.updateListToStroage()\r\n\t\t\t},\r\n\t\t\tupdateListToStroage() {\r\n\t\t\t\tuni.setStorageSync(storageKey, JSON.stringify(this.list))\r\n\t\t\t},\r\n\t\t\tinitListFromStorage() {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: storageKey,\r\n\t\t\t\t\tsuccess: (res : GetStorageSuccess) => {\r\n\t\t\t\t\t\tconst list = JSON.parseArray<Item>(res.data as string)\r\n\t\t\t\t\t\tif (list != null) {\r\n\t\t\t\t\t\t\tthis.list = list\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"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AAC,EAAE;IACnC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAC1B,CAAC;GACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACzD,CAAC;GACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACd,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MACrC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;OACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MAChB;KACD;IACD,CAAC;GACF,CAAC;EACF;CACD;;;;;AAlEU,2CAAwB;;;;;;;;;IAjBlC,mBAuBY;MAvBD,SAAS,EAAC,UAAU;MAAC,KAAwB,iBAAxB,8BAAwB;;MACvD,mBAMY,wBAND,KAAK,EAAC,mDAAmD;QACvD,aAAQ,CAAC,MAAM;YAA3B,mBAIO;cAHN,mBAEO,mBAFD,KAAK,EAAC,uBAAuB,KAAC,OAEpC;;;;MAGF,mBACkE,yCADtC,aAAQ,GAAhB,IAAI,EAAJ,CAAI,EAAJ,CAAI;eAAxB,YACkE;UAD3B,GAAG,EAAE,IAAI,CAAC,EAAE;UAAG,OAAO,EAAE,IAAI,CAAC,OAAO;UAAG,EAAE,EAAE,IAAI,CAAC,EAAE;UAAG,IAAI,EAAE,IAAI,CAAC,IAAI;UACzG,SAAO,EAAE,uBAAkB;UAAG,SAAO,EAAE,cAAS;;;MAClD,mBAUY,wBAVD,KAAK,EAAC,mDAAmD;QACvD,kBAAa,CAAC,MAAM;YAAhC,mBAIO;cAHN,mBAEO,mBAFD,KAAK,EAAC,uBAAuB,KAAC,MAEpC;;;QAEW,SAAI,CAAC,MAAM;YAAvB,mBAGO;cAFN,mBAAwC,oBAAjC,GAAwB,EAAxB,UAAwB;cAC/B,mBAA6E,mBAAvE,KAAK,EAAC,2CAA2C,KAAC,gBAAc;;;;MAGxE,mBACoF,yCADxD,kBAAa,GAArB,IAAI,EAAJ,CAAI,EAAJ,CAAI;eAAxB,YACoF;UADxC,GAAG,EAAE,IAAI,CAAC,EAAE;UAAG,OAAO,EAAE,IAAI,CAAC,OAAO;UAAG,EAAE,EAAE,IAAI,CAAC,EAAE;UAC5F,IAAI,EAAE,IAAI,CAAC,IAAI;UAAG,SAAO,EAAE,uBAAkB;UAAG,SAAO,EAAE,cAAS;;;;IAErE,YAAgE;MAArD,IAAI,EAAE,aAAQ;MAAG,QAAM,EAAE,oBAAe"}