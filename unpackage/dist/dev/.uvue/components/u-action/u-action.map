{"version":3,"file":"components/u-action/u-action.uvue","names":[],"sources":["components/u-action/u-action.uvue"],"sourcesContent":["<template>\r\n\t<view v-if=\"!panelVisiable\">\r\n\t\t<u-icon class=\"plus-btn-right rounded-circle position-fixed\" size=\"60rpx\" :code=\"'\\ue657'\"\r\n\t\t\t@click=\"panelVisiable = true\"></u-icon>\r\n\t\t<u-icon class=\"plus-btn-left rounded-circle position-fixed \" size=\"60rpx\" :code=\"'\\ue750'\"\r\n\t\t\t@click=\"getRandomDish\"></u-icon>\r\n\t</view>\r\n\t<view v-else class=\"panel position-fixed bottom-0 p-2 justify-center\" :style=\"{ bottom:`${panelBottom}px`} \">\r\n\t\t<input placeholder=\"添加菜品\" :focus=\"panelFous\" :adjust-position=\"false\"\r\n\t\t\t@keyboardheightchange=\"onKeyboardheightchange\" @confirm=\"onInputConfirm\" />\r\n\t</view>\r\n\r\n\t<view v-if=\"hasGetRandomDish\"\r\n\t\tclass=\"showDish animate-base rounded-circle justify-center align-center p-4 m-4 position-fixed \"\r\n\t\t:class=\"[amplity]\">\r\n\t\t<text> {{ dishName }}</text>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { Item } from \"@/common/type.uts\"\r\n\texport default {\r\n\t\tname: \"u-action\",\r\n\t\temits: [\"output\"],\r\n\t\tprops: {\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpanelBottom: 0,\r\n\t\t\t\tpanelVisiable: false,\r\n\t\t\t\tpanelFous: false,\r\n\t\t\t\tamplity: '',\r\n\t\t\t\thasGetRandomDish: false,\r\n\t\t\t\tdishName: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tpanelVisiable(v : boolean) {\r\n\t\t\t\tthis.panelFous = v\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonInputConfirm(e : InputConfirmEvent) {\r\n\t\t\t\tconst text = e.detail.value\r\n\t\t\t\tconst isEmpty = text.length == 0 || text.trim() == ''\r\n\t\t\t\tif (isEmpty) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('output', text)\r\n\t\t\t},\r\n\t\t\tonKeyboardheightchange(e : InputKeyboardHeightChangeEvent) {\r\n\t\t\t\tif (e.detail.height <= 0) {\r\n\t\t\t\t\tthis.panelVisiable = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.panelBottom = e.detail.height > 0 ? 340 : 0\r\n\t\t\t},\r\n\t\t\tgetRandomDish() {\r\n\t\t\t\tif (!this.hasGetRandomDish) {\r\n\t\t\t\t\tthis.hasGetRandomDish = true\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.amplity = \"animate-amplify\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconst item = this.list[Math.round(Math.random() * (this.list.length - 1))] as Item\r\n\t\t\t\t\tif (item.text != \"\") {\r\n\t\t\t\t\t\tthis.dishName = item.text\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.amplity = \"animate-fade-out\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.plus-btn-right {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tright: 25rpx;\r\n\t\tbottom: 50rpx;\r\n\t}\r\n\r\n\t.showDish {\r\n\t\tbottom: 15rpx;\r\n\t\twidth: 500rpx;\r\n\t\tright: 80rpx;\r\n\t\tleft: 80rpx;\r\n\t\tbackground-color: #fd717f;\r\n\t}\r\n\r\n\t.plus-btn-left {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tleft: 25rpx;\r\n\t\tbottom: 50rpx;\r\n\t}\r\n\r\n\t.panel {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tbackground-color: #fb3b88;\r\n\t}\r\n\r\n\t.animate-base {\r\n\t\ttransform: scale(0.4);\r\n\t\ttransition: transform 0.3s;\r\n\t}\r\n\r\n\t.animate-amplify {\r\n\t\ttransform: scale(0.8);\r\n\t\ttransition: transform 0.3s;\r\n\t}\r\n\r\n\t.animate-fade-out {\r\n\t\ttransform: scale(0.8);\r\n\t\topacity: 0.3;\r\n\t}\r\n</style>"],"mappings":"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"}