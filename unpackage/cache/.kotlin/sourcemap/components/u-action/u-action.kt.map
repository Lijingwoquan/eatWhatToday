{"version":3,"sources":["components/u-action/u-action.uvue"],"sourcesContent":["<template>\r\n\t<view v-if=\"!panelVisiable\">\r\n\t\t<u-icon class=\"plus-btn-right rounded-circle position-fixed\" size=\"60rpx\" :code=\"'\\ue657'\"\r\n\t\t\t@click=\"panelVisiable = true\"></u-icon>\r\n\t\t<u-icon class=\"plus-btn-left rounded-circle position-fixed \" size=\"60rpx\" :code=\"'\\ue750'\"\r\n\t\t\t@click=\"getRandomDish\"></u-icon>\r\n\t</view>\r\n\t<view v-else class=\"panel position-fixed bottom-0 p-2 justify-center\" :style=\"{ bottom:`${panelBottom}px`} \">\r\n\t\t<input placeholder=\"添加菜品\" :focus=\"panelFous\" :adjust-position=\"false\"\r\n\t\t\t@keyboardheightchange=\"onKeyboardheightchange\" @confirm=\"onInputConfirm\" />\r\n\t</view>\r\n\r\n\t<view v-if=\"hasGetRandomDish\"\r\n\t\tclass=\"showDish animate-base rounded-circle justify-center align-center p-4 m-4 position-fixed \"\r\n\t\t:class=\"[amplity]\">\r\n\t\t<text> {{ dishName }}</text>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { Item } from \"@/common/type.uts\"\r\n\texport default {\r\n\t\tname: \"u-action\",\r\n\t\temits: [\"output\"],\r\n\t\tprops: {\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpanelBottom: 0,\r\n\t\t\t\tpanelVisiable: false,\r\n\t\t\t\tpanelFous: false,\r\n\t\t\t\tamplity: '',\r\n\t\t\t\thasGetRandomDish: false,\r\n\t\t\t\tdishName: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tpanelVisiable(v : boolean) {\r\n\t\t\t\tthis.panelFous = v\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonInputConfirm(e : InputConfirmEvent) {\r\n\t\t\t\tconst text = e.detail.value\r\n\t\t\t\tconst isEmpty = text.length == 0 || text.trim() == ''\r\n\t\t\t\tif (isEmpty) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('output', text)\r\n\t\t\t},\r\n\t\t\tonKeyboardheightchange(e : InputKeyboardHeightChangeEvent) {\r\n\t\t\t\tif (e.detail.height <= 0) {\r\n\t\t\t\t\tthis.panelVisiable = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.panelBottom = e.detail.height > 0 ? 340 : 0\r\n\t\t\t},\r\n\t\t\tgetRandomDish() {\r\n\t\t\t\tif (!this.hasGetRandomDish) {\r\n\t\t\t\t\tthis.hasGetRandomDish = true\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.amplity = \"animate-amplify\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconst item = this.list[Math.round(Math.random() * (this.list.length - 1))] as Item\r\n\t\t\t\t\tif (item.text != \"\") {\r\n\t\t\t\t\t\tthis.dishName = item.text\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.amplity = \"animate-fade-out\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.plus-btn-right {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tright: 25rpx;\r\n\t\tbottom: 50rpx;\r\n\t}\r\n\r\n\t.showDish {\r\n\t\tbottom: 15rpx;\r\n\t\twidth: 500rpx;\r\n\t\tright: 80rpx;\r\n\t\tleft: 80rpx;\r\n\t\tbackground-color: #fd717f;\r\n\t}\r\n\r\n\t.plus-btn-left {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tleft: 25rpx;\r\n\t\tbottom: 50rpx;\r\n\t}\r\n\r\n\t.panel {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tbackground-color: #fb3b88;\r\n\t}\r\n\r\n\t.animate-base {\r\n\t\ttransform: scale(0.4);\r\n\t\ttransition: transform 0.3s;\r\n\t}\r\n\r\n\t.animate-amplify {\r\n\t\ttransform: scale(0.8);\r\n\t\ttransition: transform 0.3s;\r\n\t}\r\n\r\n\t.animate-fade-out {\r\n\t\ttransform: scale(0.8);\r\n\t\topacity: 0.3;\r\n\t}\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;UAyCG,IAAc,GAAI,OAAO,EAAE;YAC1B,IAAI,CAAC,SAAQ,GAAI;QAClB;;;;;;;;;wBA1CW,KAAA,aAAa;gBAA1B,mBAKO,QAAA,SAAA,SAAA,CAAA,GAAA;oBAJN,YACwC,mBAAA,SADhC,WAAM,gDAA+C,UAAK,SAAS,UAAM,UAC/E,aAAK,KAAA;wBAAE,KAAA,aAAa,GAAA,IAAA;oBAAA;;;oBACtB,YACiC,mBAAA,SADzB,WAAM,+CAA+C,UAAK,SAAS,UAAM,UAC/E,aAAO,KAAA,aAAa;;;;;gBAEvB,mBAGO,QAAA,qBAHM,WAAM,oDAAoD,WAAK,eAAE,SAAA,YAAA,GAAA,EAAA,KAAA,WAAA,CAAA,EAAA,GAAA;oBAC7E,mBAC4E,SAAA,SADrE,iBAAY,QAAQ,WAAO,KAAA,SAAS,EAAG,qBAAiB,KAAK,EAClE,4BAAsB,KAAA,sBAAsB,EAAG,eAAS,KAAA,cAAc;;;;;;;;uBAG7D,KAAA,gBAAgB;gBAA5B,mBAIO,QAAA,qBAHN,WAAK,eAAA;oBAAC;oBAA0F;wBACvF,KAAA,OAAO;qBAAA;iBAAA;oBAChB,mBAA4B,QAAA,IAAA,EAAA,gBAAlB,KAAA,QAAQ,GAAA,CAAA;;;;;;;;aAiBhB;aACA;aACA;aACA;aACA;aACA;;;wBALA,iBAAa,CAAC,EACd,mBAAe,KAAK,EACpB,eAAW,KAAK,EAChB,aAAS,IACT,sBAAkB,KAAK,EACvB,cAAU;;;aASX,iBAAA,IAAe,GAAI,iBAAiB,EAAE;YACrC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAI;YAC1B,IAAM,UAAU,KAAK,MAAK,IAAK,CAAA,IAAK,KAAK,IAAI,MAAM;YACnD,IAAI,SAAS;gBACZ;YACD;YACA,IAAI,CAAC,OAAK,CAAC,UAAU;QACtB;;aACA,yBAAA,IAAuB,GAAI,8BAA8B,EAAE;YAC1D,IAAI,EAAE,MAAM,CAAC,MAAK,IAAK,CAAC,EAAE;gBACzB,IAAI,CAAC,aAAY,GAAI,KAAI;YAC1B;YACA,IAAI,CAAC,WAAU,GAAI,IAAA,EAAE,MAAM,CAAC,MAAK,GAAI,CAAA;AAAI,mBAAE;;AAAI,iBAAA;;YAAA;QAChD;;aACA,gBAAA,MAAgB;YACf,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBAC3B,IAAI,CAAC,gBAAe,GAAI,IAAG;gBAC3B,IAAI,CAAC,WAAS,CAAC,KAAM;oBACpB,IAAI,CAAC,OAAM,GAAI;gBAChB;gBACA,IAAM,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAK,GAAI,CAAC,GAAE,CAAE,EAAC;gBAC5E,IAAI,KAAK,IAAG,IAAK,IAAI;oBACpB,IAAI,CAAC,QAAO,GAAI,KAAK,IAAG;gBACzB;YACD,OAAO;gBACN,IAAI,CAAC,OAAM,GAAI;YAChB;QACD;;;sBA3BA,iBAAe,GAAI;sBAQnB,yBAAuB,GAAI;sBAM3B;;mBAtCK;;;;;;;;;;;;;;uGAKM,IAAG"}